<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="icon" href="/assets/images/favicon.ico">

<title>使用 EKS Access Entry 拯救並恢復叢集的存取權限 | Eason Tech Talk</title>

<!-- Handle Multiple Language SEO -->

<!--meta property="og:url" content="https://easontechtalk.com/tw/recover-permission-using-eks-cluster-access-entry/" /-->

<meta http-equiv="Content-Language" content="tw">
<link rel="alternate" hreflang="en" href="https://easontechtalk.com"/>
<link rel="alternate" hreflang="tw" href="https://easontechtalk.com/tw/"/>

<!-- Handle Multiple Language SEO End -->

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>使用 EKS Access Entry 拯救並恢復叢集的存取權限 | Eason Tech Talk</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="使用 EKS Access Entry 拯救並恢復叢集的存取權限" />
<meta name="author" content="eason" />
<meta property="og:locale" content="en_us" />
<meta name="description" content="在過去，管理 Amazon Elastic Kubernetes Service (EKS) 叢集的存取權限通常需要依賴 AWS IAM Authenticator 和 aws-auth ConfigMap 的組合。然而，這樣的管理方式可能遇到格式錯誤、自動化更新困難以及 IAM 用戶被刪除等限制和問題。" />
<meta property="og:description" content="在過去，管理 Amazon Elastic Kubernetes Service (EKS) 叢集的存取權限通常需要依賴 AWS IAM Authenticator 和 aws-auth ConfigMap 的組合。然而，這樣的管理方式可能遇到格式錯誤、自動化更新困難以及 IAM 用戶被刪除等限制和問題。" />
<link rel="canonical" href="https://easontechtalk.com/tw/utilize-eks-cluster-health-status/" />
<meta property="og:url" content="https://easontechtalk.com/tw/utilize-eks-cluster-health-status/" />
<meta property="og:site_name" content="Eason Tech Talk" />
<meta property="og:image" content="https://easontechtalk.com/assets/images/2024/recover-permission-using-eks-cluster-access-entry/cover.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-02-25T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://easontechtalk.com/assets/images/2024/recover-permission-using-eks-cluster-access-entry/cover.png" />
<meta property="twitter:title" content="使用 EKS Access Entry 拯救並恢復叢集的存取權限" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"eason"},"dateModified":"2024-02-25T00:00:00+00:00","datePublished":"2024-02-25T00:00:00+00:00","description":"在過去，管理 Amazon Elastic Kubernetes Service (EKS) 叢集的存取權限通常需要依賴 AWS IAM Authenticator 和 aws-auth ConfigMap 的組合。然而，這樣的管理方式可能遇到格式錯誤、自動化更新困難以及 IAM 用戶被刪除等限制和問題。","headline":"使用 EKS Access Entry 拯救並恢復叢集的存取權限","image":"https://easontechtalk.com/assets/images/2024/recover-permission-using-eks-cluster-access-entry/cover.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://easontechtalk.com/tw/utilize-eks-cluster-health-status/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://easontechtalk.com/assets/images/logo.png"},"name":"eason"},"url":"https://easontechtalk.com/tw/utilize-eks-cluster-health-status/"}</script>
<!-- End Jekyll SEO tag -->


<link href="/assets/css/theme.css" rel="stylesheet">

<!-- custom CSS - Remove this if you don't use it or choose to customize the stylesheet with sass-->
<link href="/assets/css/custom.css" rel="stylesheet">
<!-- custom CSS end-->
    
       
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3QPJPEHDZP"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-3QPJPEHDZP');
</script>

   
</head>   
    

<body class="layout-post">

    
<!-- Menu Navigation
================================================== -->
<div class="navigation-wrap start-header start-style">
    <nav class="navbar navbar-expand-lg">
        <div class="container">

          <a class="navbar-brand text-dark font-weight-bold big d-flex align-items-center" href="/tw/">
          
          <img class="mr-2" src="/assets/images/logo.png" alt="logo"> 
          
          </a> | 
          

          <div class="d-flex align-items-center">
            
            <span class="ml-3 text-muted small">Follow</span>

            
            
            
      
            
            <a class="d-inline-block social-icon" target="_blank" href="https://www.facebook.com/EasonTechTalk">
              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16">
              <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
            </svg>
            </a>
            

          </div>
    
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
              <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
            </svg>
          </button>
          
          <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto font-weight-bold d-flex align-items-center">
              
              <li class="nav-item">
                <a class="nav-link px-3 " href="/tw/" alt="首頁">首頁</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link px-3 " href="/tw/about/" alt="關於">關於</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link px-3 ml-2 btn btn-dark text-white px-3" href="/?" alt="English">English</a>
              </li>
              
            </ul>
          </div>

        </div>
      </nav>
    </div>  

    
<!-- Container
================================================== -->    
<main class="container">   
      <!-- Begin Article
================================================== -->

	<div class="row">
		

		<!-- Post -->        
        
        
		<div class="col-sm-8">
            <!-- Post Featured Image -->
			<img class="featured-image img-fluid rounded" src="/assets/images/2024/recover-permission-using-eks-cluster-access-entry/cover.png" alt="使用 EKS Access Entry 拯救並恢復叢集的存取權限">
			<!-- End Featured Image -->
			<div class="mainheading">             
                
                <!-- Post Categories -->
                <div class="after-post-tags">
                    <ul class="tags">
                        
                        
                        <li>
                         <a href="/tw/categories#amazon-elastic-kubernetes-service-eks">Amazon Elastic Kubernetes Service (EKS)</a>
                        </li>
                        
                        <li>
                         <a href="/tw/categories#kubernetes">Kubernetes</a>
                        </li>
                        
                    </ul>
                </div>
                <!-- End Categories -->
                
                <!-- Post Title -->
				<h1 class="posttitle">使用 EKS Access Entry 拯救並恢復叢集的存取權限</h1> 
                
			</div>

			

			<!-- Post Content -->
			<div class="article-post serif-font">
				<p>在過去，管理 Amazon Elastic Kubernetes Service (EKS) 叢集的存取權限通常需要依賴 AWS IAM Authenticator 和 aws-auth ConfigMap 的組合。然而，這樣的管理方式可能遇到格式錯誤、自動化更新困難以及 IAM 用戶被刪除等限制和問題。</p>

<p>為了解決這些問題，EKS 釋出了一項新的驗證方式 — <strong>EKS Access Entry</strong>，提供了一個新的優化的解決方案。通過 EKS Access Entry，簡化了 aws-auth ConfigMap 的管理配置，甚至在某些場景下恢復 EKS 叢集的存取權限。</p>

<h2 id="為什麼這個功能這麼重要">為什麼這個功能這麼重要</h2>

<p>在過去，Amazon EKS 整合了 IAM 作為主要的身份認證，然而，其中的身份認證仍依賴運行在 EKS 中的 AWS IAM Authenticator 進行驗證，這項驗證機制需要透過 aws-auth ConfigMap 進行管理。通常，這樣的工作流程並不是什麼大問題，但隨著 EKS 不同使用場景的增加，衍生了幾個限制和問題：</p>

<ul>
  <li>直接編輯 aws-auth ConfigMap 很容易遇到一些格式問題，例如：縮排錯誤、不正確的語法和格式、新版的 yaml 與目前線上環境中套用的不一致，新的 yaml 文件導致覆蓋了過去的設定，以上種種都有可能不小心造成災難。</li>
  <li>整合 CI/CD pipeline 要達到自動化更新需要依賴 Kubernetes 資源的更新 (aws-auth ConfigMap)。不論是 AWS Lambda、Terraform、CloudFormation 或是 CDK，在過去，必須得透過呼叫 Kubernetes API 達到資源更新控制，難以透過 AWS EKS 本身提供的 API 完成自動化和權限管理，同時，在使用較嚴謹的 Kubernetes Role-Based Access Control (RBAC) 集群的安全管理下，團隊中的開發者使用有限的 Kubernetes 用戶身份可能難以透過 Kubernetes API 更新 aws-auth ConfigMap</li>
  <li>當初建立 EKS Cluster 的 IAM 用戶被刪除使得團隊無法訪問 EKS Cluster，也就是本篇內容討論的主題。常見於整合 AWS Single-Sign On (AWS SSO) 或是同事離職的情境。即使是 AWS 的 Root 帳號也沒有辦法恢復 Kubernetes Cluster 的存取權限</li>
</ul>

<p>為了解決這個問題，我們可以導入使用 EKS Access Entry 優化 EKS 叢集的權限管理，甚至在上述情況中，拯救並恢復叢集的存取權限。EKS Access Entry 是一個解決方案，可以讓管理者在無需 IAM 用戶的情況下，恢復對 EKS 叢集的存取權限。</p>

<h2 id="深入瞭解-eks-access-entry-的新功能">深入瞭解 EKS Access Entry 的新功能</h2>

<p>EKS Access Entry 是一種用於管理 Amazon EKS 叢集存取權限的新解決方案。它提供了一個優化的方式來管理叢集的驗證模式和存取策略，並解決了過去使用 IAM Authenticator 和 aws-auth ConfigMap 管理存取權限所遇到的限制和問題。</p>

<p>預設情況下，在建立 EKS 叢集時，會自動賦予操作建立 EKS Cluster 的 IAM 身份在 Kubernetes 的 Role-Based Access Control (RBAC) 中建立規則和 Kubernetes User，並且賦予 <code>system:master</code> 的操作身份。</p>

<h3 id="kubernetes-role-based-access-control-rbac-是什麼">Kubernetes Role-Based Access Control (RBAC) 是什麼？</h3>

<p>Kubernetes Role-Based Access Control (RBAC) 是一種在 Kubernetes 叢集中實現授權和權限管理的機制。使用 RBAC，您可以定義角色和角色綁定，以授予使用者或服務帳戶對叢集資源的特定權限。</p>

<h3 id="eks-驗證身份驗證機制">EKS 驗證身份驗證機制</h3>

<p>回顧前面所提，在 EKS 中，預設只為建立 EKS Cluster 的 IAM 身份 (比如：<code>arn:aws:iam::123456789:user/eason</code>) 賦予 <code>system:master</code> 群組操作身份。如果要允許一個新的 IAM 用戶 (比如：<code>arn:aws:iam::123456789:user/developer</code>) 能夠操作 EKS Cluster，<strong>在 IAM 主控台中設定任何的 IAM 策略，是無法授權任何 EKS Cluster 的訪問權限</strong>，而是需要透過更新 <code>aws-auth</code> ConfigMap 資源來賦予其他 IAM 身份的訪問：</p>

<p><img src="/assets/images/2024/recover-permission-using-eks-cluster-access-entry/auth-workflow.png" alt="EKS 預設驗證機制" /></p>

<p>例如：要為我的 IAM 用戶授權訪問 EKS Cluster，可以透過使用 kubectl 命令為 <code>aws-auth</code> ConfigMap 中新增一個 <code>mapUsers</code> 區塊，其中包含了指定了一個使用者的 ARN (<code>arn:aws:iam::123456789:user/developer</code>) ，並且關聯 <code>system:master</code> 群組，表示 <code>developer</code> 使用者現在具有訪問 EKS Cluster 的存取權限。</p>

<pre><code class="language-bash">$ kubectl get cm/aws-auth -o yaml -n kube-system
apiVersion: v1
data:
  mapRoles: |
    - groups:
      - system:bootstrappers
      - system:nodes
      rolearn: arn:aws:iam::123456789:role/EKSManagedNodeWorkerRole
      username: system:node:
  mapUsers: |
    - groups:
      - system:masters
      userarn: arn:aws:iam::123456789:user/developer
      username: developer
</code></pre>

<h3 id="支援-eks-access-entry-後的叢集驗證模式變更">支援 EKS Access Entry 後的叢集驗證模式變更</h3>

<p>這項更新支援以下 Kubernetes 和平台之後版本的 EKS Cluster：</p>

<table>
  <thead>
    <tr>
      <th>Kubernetes version</th>
      <th>Platform version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.28</td>
      <td>eks.6</td>
    </tr>
    <tr>
      <td>1.27</td>
      <td>eks.10</td>
    </tr>
    <tr>
      <td>1.26</td>
      <td>eks.11</td>
    </tr>
    <tr>
      <td>1.25</td>
      <td>eks.12</td>
    </tr>
    <tr>
      <td>1.24</td>
      <td>eks.15</td>
    </tr>
    <tr>
      <td>1.23</td>
      <td>eks.17</td>
    </tr>
  </tbody>
</table>

<p>將可以支援兩種不同的驗證模式：</p>

<ol>
  <li><strong>IAM 叢集驗證模式</strong>：這是 Amazon EKS 的預設驗證模式，它基於 IAM 進行身份驗證，並且依賴於 <code>aws-auth</code> ConfigMap。</li>
  <li><strong>EKS 叢集驗證模式 (Access Entry)</strong>：這是 EKS Access Entry 引入的新驗證模式。它基於 Kubernetes 的原生身份驗證機制，但透過 EKS 本身的 API 完成，使得在 EKS 控制台介面上點一點就能完成允許一個 IAM User/Role 的操作成可能。</li>
</ol>

<p>在新建立的 EKS Cluster 中，您可能會注意到多了以下選項的更新：</p>

<p><img src="/assets/images/2024/recover-permission-using-eks-cluster-access-entry/cover.png" alt="EKS 驗證模式" /></p>

<h2 id="eks-access-entry-的驗證方法">EKS Access Entry 的驗證方法</h2>

<h3 id="先決條件">先決條件</h3>

<p>在使用 EKS Access Entry 之前，您需要確保以下先決條件已滿足：</p>

<ul>
  <li>您的 Amazon EKS 叢集有啟用 EKS Access Entry 功能 (前面提到的驗證模式支援 EKS API 而不是只有 ConfigMap)。</li>
  <li>您具有適當的 IAM 權限，以執行與 EKS Access Entry 相關的操作 (例如：<code>eks:CreateAccessEntry</code>、<code>eks:AssociateAccessPolicy</code>、<code>eks:DeleteAccessEntry</code>、<code>eks:DescribeAccessEntry</code> 等)。</li>
</ul>

<p>在啟用 Access Entry 驗證後，便可以使用這個新的驗證方式來管理叢集的存取權限。</p>

<h3 id="存取策略的存取權限">存取策略的存取權限</h3>

<p>每個 access entry 都有一個關聯的存取策略，該策略定義了對叢集資源的存取權限。存取策略使用 AWS Identity and Access Management (IAM) 的 JSON 格式來定義。以下是存取策略示例：</p>

<table>
  <thead>
    <tr>
      <th>存取策略</th>
      <th>描述</th>
      <th>Kubernetes verb</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>AmazonEKSAdminPolicy</td>
      <td>完全管理權限</td>
      <td>*</td>
    </tr>
    <tr>
      <td>AmazonEKSClusterAdminPolicy</td>
      <td>叢集管理權限</td>
      <td>-</td>
    </tr>
    <tr>
      <td>AmazonEKSEditPolicy</td>
      <td>讀寫權限</td>
      <td>create, update, delete, get, list</td>
    </tr>
    <tr>
      <td>AmazonEKSViewPolicy</td>
      <td>只讀權限</td>
      <td>get, list</td>
    </tr>
  </tbody>
</table>

<p>上述表格可能會隨著版本更新有所變化，詳情請參考<sup id="fnref:access-policy-permissions" role="doc-noteref"><a href="#fn:access-policy-permissions" class="footnote" rel="footnote">1</a></sup>。</p>

<h2 id="實施並利用-eks-access-entry-管理或恢復-eks-叢集存取權限">實施並利用 EKS Access Entry 管理或恢復 EKS 叢集存取權限</h2>

<p>在遇到當初建立 EKS Cluster 的 IAM 用戶被刪除使得團隊無法訪問 EKS Cluster 的情況下，若當前的 IAM User/Role 具備 Access Entry 的操作權限，則可以透過這項功能恢復 EKS Cluster 的存取權限 (或是撤銷存取權限)。EKS Access Entry 可以使用 AWS CLI 或 AWS Management Console 進行操作。</p>

<p><strong>EKS 主控台 (AWS Management Console)</strong></p>

<p>(1) 在 EKS 叢集詳細資訊頁面中，點選 “Access” 選項。</p>

<p>(2) 在 “IAM Access Entries” 頁面中，點選右上方的 “Create access entry” 按鈕。</p>

<p><img src="/assets/images/2024/recover-permission-using-eks-cluster-access-entry/create-access-entry.png" alt="新增 EKS Access Entry" /></p>

<p>(3) 在 “Create access entry” 的對話框中，輸入以下資訊：
    - IAM Principal ARN: 指定 IAM User 或 IAM Role 的 ARN。
    - Kubernetes groups: 這個欄位用於關聯 IAM User/Role 使用 Kubernetes RBAC 裡面已經定義的 Kubernetes 群組 (Role &amp; Rolebinding)。若要直接關聯預先定義好的 Access Entry Policy (例如：<code>AmazonEKSClusterAdminPolicy</code>)，可以略過
    - Kubernetes username: 您希望該 IAM 使用者或角色在 Kubernetes 中的使用者名稱，這裡可以輸入您希望的名稱或是省略，例如 <code>admin</code>。</p>

<p><img src="/assets/images/2024/recover-permission-using-eks-cluster-access-entry/config-iam-access-entry.png" alt="設定 IAM Access Entry" /></p>

<p>(4) 在這個步驟中，可以選擇預設的的 Access Entry 以賦予 IAM 身份存取 EKS Cluster 的權限，例如：<code>arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy</code>。
    - Access Scope: 用於賦予關聯策略影響的範圍，例如：指定 IAM 用戶只能使用這個權限操作特定 Kubernetes namespace。如果不限制，則選擇 Cluster 賦予 IAM 用戶可以使用這個權限操作整個叢集。</p>

<p>(5) 點選 “Add Policy” 按鈕以關聯存取策略。</p>

<p><img src="/assets/images/2024/recover-permission-using-eks-cluster-access-entry/access-policy.png" alt="設定 Access Policy" /></p>

<p>至此，您已成功使用 EKS Access Entry 為 EKS 叢集新增了一個 Cluster Admin。</p>

<p><strong>AWS CLI</strong></p>

<p>以下是使用 AWS CLI 透過 EKS Access Entry 為 EKS 叢集新增 Cluster Admin 的步驟 (叢集名稱以<code>eks-cluster</code> 為例)：</p>

<p>(1) 更新你的 EKS 叢集配置以啟用 EKS Access Entry 驗證模式 (如果已經操作過這步驟可以省略)</p>

<pre><code class="language-bash">aws eks update-cluster-config \
          --name eks-cluster  \
          --access-config authenticationMode=API_AND_CONFIG_MAP
</code></pre>

<p>(2) 建立一個 Access Entry，並指定 IAM principal ARN （例如：IAM User 或 IAM Role，這裡使用 <code>arn:aws:iam::0123456789012:role/eks-admin</code> 作為範例)</p>

<pre><code class="language-bash"> aws eks create-access-entry \
  --cluster-name eks-cluster \
  --principal-arn "arn:aws:iam::0123456789012:role/eks-admin"

</code></pre>

<p>(3) 將存取策略關聯到剛剛建立的 Access Entry。這裡以 AmazonEKSAdminPolicy （提供完全的管理權限）為例</p>

<pre><code class="language-bash"> aws eks associate-access-policy \
  --cluster-name eks-cluster \
  --principal-arn "arn:aws:iam::0123456789012:role/eks-admin" \
  --policy-arn arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy \
  --access-scope '{"type": "cluster"}
</code></pre>

<p>完成以上步驟後，您已成功透過 EKS Access Entry 為 EKS 叢集新增了一個 Cluster Admin。</p>

<p><strong>其他權限設定</strong></p>

<p>另一種使用情境為透過 EKS Access Entry 功能與 Kubernetes RBAC 本身的權限關聯。</p>

<p>例如，我們可以建立一個名為 <code>pod-and-config-viewer</code> 的 Kubernetes Cluster，並授予該角色查看 Kubernetes Pods 的權限。</p>

<pre><code class="language-yaml">apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: pod-viewer-role
rules:
  - apiGroups: ['']
    resources: ['pods', 'pods/log']
    verbs: ['list', 'get', 'watch']
</code></pre>

<p>接著，我們將此角色綁定到 <code>pod-viewers</code> 群組上。</p>

<p>註：Kubernetes Group (<code>pod-viewers</code>) 不需要事先建立即可操作。</p>

<pre><code class="language-bash">kubectl create clusterrolebinding pod-viewer \
  --clusterrole=pod-viewer-role \
  --group=pod-viewers

</code></pre>

<p>接下來即可直接通過 EKS Access Entry 對應的功能將 IAM 角色 <code>arn:aws:iam::0123456789012:role/eks-pod-viewer</code> 關聯到 Kubernetes 群組 <code>pod-viewers</code> 上，進一步強化權限設定的靈活性。</p>

<pre><code class="language-bash">aws eks create-access-entry \
  --cluster-name eks-cluster \
  --principal-arn "arn:aws:iam::0123456789012:role/eks-pod-viewer" \
  --kubernetes-group pod-viewers
</code></pre>

<h2 id="總結">總結</h2>

<p>本文介紹了 EKS Access Entry，這是 Amazon Elastic Kubernetes Service (EKS) 叢集的一種新的存取權限管理方法。此功能解決了過去使用 IAM Authenticator 和 aws-auth ConfigMap 進行權限管理時所遇到的問題，例如格式錯誤、自動更新困難以及 IAM 使用者被刪除等問題。相較於傳統的方法，EKS Access Entry 提供了一種更優化的方式來管理驗證模式和存取策略。</p>

<p>此外，本篇內容也詳細說明了如何使用 EKS Access Entry 來管理或恢復 EKS 叢集的存取權限，包括在 AWS Management Console 或 AWS CLI 中進行操作的具體步驟。這些解決方案不僅可以在 IAM 使用者被刪除等緊急情況下恢復叢集的存取權限，也可用於日常的權限管理中，提高效率與靈活性。</p>

<p>總結來說，EKS Access Entry 的出現為 EKS 叢集的權限管理帶來了重大的改進，使得管理者能更有效地實現對 EKS 叢集的權限管理，進一步提升效率和靈活性。</p>

<h2 id="參考資料">參考資料</h2>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:access-policy-permissions" role="doc-endnote">
      <p><a href="https://docs.aws.amazon.com/eks/latest/userguide/access-policies.html#access-policy-permissions">Access policy permissions</a> <a href="#fnref:access-policy-permissions" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

                <div class="clearfix"></div>
			</div>

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2024-02-25">25 Feb 2024</time></span>           
                
                </small>
            </p>
            
			
            
            <!-- Prev/Next -->
            <div class="row PageNavigation mt-4 prevnextlinks d-flex justify-content-between">
              
                <div class="col-md-6 rightborder pl-0">
                    <a class="thepostlink" href="https://easontechtalk.com/tw/utilize-eks-cluster-health-status/">&laquo; 使用 EKS Cluster Health 資訊監控你的叢集健康狀態</a>
                </div>
              
              
                <div class="col-md-6 text-right pr-0">
                    <a class="thepostlink" href="https://easontechtalk.com/tw/deep-dive-into-kubernetes-garbage-collector-imagefs/">深入研究 Kubernetes Garbage Collection：容器映像清除機制 &raquo;</a>
                </div>
              
            </div>
            <!-- End Prev/Next -->
            
            
             <!-- Author Box -->
                				
				<div class="row post-top-meta">
					<div class="col-md-2">
						<img class="author-thumb" src="/assets/images/authors/eason.jpg" alt="Eason Cao">
					</div>
					<div class="col-md-10">
						<a target="_blank" class="link-dark" href="https://easoncao.com">Eason Cao</a><a target="_blank" href="https://twitter.com/EasonTechTalk" class="btn follow">Follow</a>
						<span class="author-description">Eason is an engineer working at FANNG and living in Europe. He was accredited as AWS Professional Solution Architect, AWS Professional DevOps Engineer and CNCF Certified Kubernetes Administrator. He started his Kubernetes journey in 2017 and enjoys solving real-world business problems.</span>						
					</div>
				</div>				
                
            
            
            <!-- Begin Comments
            ================================================== -->
            <section>
            <div id="comments">                          
                <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'eason-tech-talk'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
 
            </div>
            </section>
            <!--End Comments
            ================================================== -->
            
            

		</div>
		<!-- End Post -->


        

		<!-- Sidebar -->
        <div class="col-sm-4">
            <div class="sidebar sticky-top">        
	<!-- Table of Content (toc) -->
	
		<div class="sidebar-section">
			<h5><span>Table of Content</span></h5>
			<ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#為什麼這個功能這麼重要">為什麼這個功能這麼重要</a></li>
<li class="toc-entry toc-h2"><a href="#深入瞭解-eks-access-entry-的新功能">深入瞭解 EKS Access Entry 的新功能</a></li>
<li class="toc-entry toc-h2"><a href="#eks-access-entry-的驗證方法">EKS Access Entry 的驗證方法</a></li>
<li class="toc-entry toc-h2"><a href="#實施並利用-eks-access-entry-管理或恢復-eks-叢集存取權限">實施並利用 EKS Access Entry 管理或恢復 EKS 叢集存取權限</a></li>
<li class="toc-entry toc-h2"><a href="#總結">總結</a></li>
<li class="toc-entry toc-h2"><a href="#參考資料">參考資料</a></li>
</ul>
		</div>
	
	<!-- End Table of Content (toc) -->

    <div class="sidebar-section">
        <h5><span>Newsletter</span></h5>
        
<!-- Begin Newsletter Signup Form (TW) -->
<link href="https://cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://docs.google.com/forms/d/e/1FAIpQLSey911rk4FWQITz4_xqIcB7qSRuQdutYYS-Sv5Zmk7flXc1Ww/formResponse" method="post" id="mc-embedded-subscribe-form" class="validate" target="_blank">
	<div id="mc_embed_signup_scroll">
	<h2>訂閱並取得更新</h2>

    <div class="mc-field-group">
        <input name="entry.2059009175" type="email" id="email" class="required email" placeholder="E-mail" required="required">
        <input name="entry.656138904" type="hidden" id="name" class="" placeholder="Name">
        <input name="entry.461682337" type="hidden" id="language" value="en">
    </div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
	<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_45bf394e4f5830ed557d64a9f_2f88109ae9" tabindex="-1" value=""></div>
	<div class="clear"><input type="submit" value="免費訂閱" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
	</div>
</form>

</div>
<script type='text/javascript'>
window.onload = function() {
    $(function() {
        $('#mc_embed_signup form').on("submit", function(e) {
            e.preventDefault();
            $('#mc_embed_signup #mce-error-response').hide();
            $('#mc_embed_signup #mce-success-response').hide();

            var email = $("#mc_embed_signup input#email");
            $.ajax({
                url: "https://docs.google.com/forms/d/e/1FAIpQLSey911rk4FWQITz4_xqIcB7qSRuQdutYYS-Sv5Zmk7flXc1Ww/formResponse",
                type: "POST",
                data: {
                    'entry.2059009175': email.val()
                    // 'entry.656138904': name,
                    // 'entry.461682337': language,
                },
                cache: false,
                crossDomain: true,
                statusCode: {
                    0: function() {
                        // CORS issue may only get statsu code 0 but Google got the data
                        $('#mc_embed_signup #mce-success-response').text('請求已送出！').show();
                    },
                    200: function() {
                        // Success message
                        $('#mc_embed_signup #mce-success-response').text('你已經加入至訂閱清單！').show();
                        email.val('') // clear the input
                    },
                    400: function() {
                        // Fail message
                        $('#mc_embed_signup #mce-error-response').text('訂閱失敗，請檢查是否符合格式並重試。').show();
                    },
                    403: function() {
                        // Fail message
                        $('#mc_embed_signup #mce-error-response').text('訂閱失敗，請檢查是否符合格式並重試。').show();
                    }
                }
            })
        });
    });
}
</script>
<!--End mc_embed_signup-->



    </div>
    <!-- div class="sidebar-section">
        <h5><span>Your Ad Here</span></h5>
        <img src="/assets/images/ad.png">
    </div -->
</div>

        </div>

	</div>

<!-- End Article
================================================== -->
  
</main>

<!-- Footer
================================================== -->    
<footer class="footer container text-center">  

  <ul class="p-0 mb-1 small">
    
    <li>
      <a href="/tw/" alt="回首頁">回首頁</a>
    </li>
    
    <li>
      <a href="/tw/privacy-policy/" alt="Privacy Policy">Privacy Policy</a>
    </li>
    
    </ul>
    <div class="copyright small">
       Copyright © Eason Tech Talk. All rights reserved.
    </div>
</footer>

<!-- JavaScript
================================================== -->    
<script src="/assets/js/jquery.min.js"></script>   
<script src="/assets/js/bootstrap.min.js"></script>   
<script src="/assets/js/theme.js"></script>    
    
</body>
    
</html>
